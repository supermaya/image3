# ν¬μΈνΈ μ‹μ¤ν… μ„¤μ • κ°€μ΄λ“

## κ°μ”
κΈ°μ΅΄ ν”„λ¦¬λ―Έμ—„ μΉ΄ν…κ³ λ¦¬ κΈ°λ° κ³ΌκΈ κµ¬μ΅°λ¥Ό ν¬μΈνΈ μ‹μ¤ν…μΌλ΅ λ³€κ²½ν–μµλ‹λ‹¤.

## ν¬μΈνΈ μ‹μ¤ν… κµ¬μ΅°

### 1. κΈ°λ³Έ ν¬μΈνΈ
- **μ‹ κ· κ°€μ… μ‹**: 500P μ§€κΈ‰ (1νμ„±, 1λ…„ ν›„ μ†λ©Έ)
- **λ§¤μΌ μ ‘μ† λ³΄λ„μ¤**: λ§¤μΌ μ ‘μ† μ‹ 60P μλ™ μ§€κΈ‰
- **μ§€κΈ‰λ ν¬μΈνΈ μ†λ©Έ**: μμ •μ— μλ™ μ†λ©Έ

### 2. ν¬μΈνΈ μ°¨κ°
- **κ°¤λ¬λ¦¬ μ§„μ… μ‹**: 17P μ°¨κ°
- **μ°μ„ μμ„**: μ¤λ μ§€κΈ‰ ν¬μΈνΈ β†’ λ¶€μ΅± μ‹ μ μƒ μ¶©μ „ ν¬μΈνΈ(wallet)μ—μ„ μ°¨κ°

### 3. λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”
- `users`: μ‚¬μ©μ μ •λ³΄ + `signup_points_given` μ»¬λΌ μ¶”κ°€
- `point_wallet`: μ μƒ μ¶©μ „ ν¬μΈνΈ μ§€κ°‘
- `transactions`: μ¶©μ „/μ°¨κ° λ‚΄μ—­
- `user_daily_points`: μΌμΌ ν¬μΈνΈ μ λ¦½/μ‚¬μ©/μ†λ©Έ κΈ°λ΅

## μ„¤μΉ λ° μ„¤μ •

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
```bash
mysql -u your_username -p your_database < db_setup.sql
```

### 2. Cron Job μ„¤μ • (μΌμΌ ν¬μΈνΈ μ†λ©Έ)
```bash
# crontab νΈμ§‘
crontab -e

# λ§¤μΌ μμ •μ— ν¬μΈνΈ μ†λ©Έ μ²λ¦¬ μ‹¤ν–‰
0 0 * * * /usr/bin/php /path/to/your/project/expire_points_cron.php
```

### 3. λ΅κ·Έ λ””λ ‰ν† λ¦¬ μƒμ„±
```bash
mkdir logs
chmod 755 logs
```

## API μ—”λ“ν¬μΈνΈ

### ν¬μΈνΈ κ΄€λ ¨ API
- `daily_bonus`: μ¶μ„ λ³΄λ„μ¤ μ§€κΈ‰
- `use_point`: κ°¤λ¬λ¦¬ μ΄μ©λ£ μ°¨κ°
- `get_points`: ν¬μΈνΈ ν„ν™© μ΅°ν
- `expire_points`: ν¬μΈνΈ μ†λ©Έ μ²λ¦¬ (cronμ©)

### μ‚¬μ© μμ‹
```javascript
// μ¶μ„ λ³΄λ„μ¤ λ°›κΈ°
fetch('api.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ action: 'daily_bonus' })
});

// ν¬μΈνΈ ν„ν™© μ΅°ν
fetch('api.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ action: 'get_points' })
});
```

## ν”„λ΅ νΈμ—”λ“ UI

### ν¬μΈνΈ ν‘μ‹ μμ—­
- **β΅ μΌμΌ ν¬μΈνΈ**: μ¤λ λ°›μ€ ν¬μΈνΈ (μμ • μ†λ©Έ)
- **π’ μ§€κ°‘ ν¬μΈνΈ**: μ μƒ μ¶©μ „ ν¬μΈνΈ (μκµ¬ λ³΄μ΅΄)
- **π― μ΄ ν¬μΈνΈ**: μ‚¬μ© κ°€λ¥ν• μ „μ²΄ ν¬μΈνΈ
- **μ¶μ„μ²΄ν¬ λ²„νΌ**: μΌμΌ λ³΄λ„μ¤ μλ Ή

### κΈ°λ¥
- λ΅κ·ΈμΈ μ‹ μλ™μΌλ΅ ν¬μΈνΈ μ •λ³΄ λ΅λ“
- κ°¤λ¬λ¦¬ μ§„μ… μ‹ μλ™ ν¬μΈνΈ μ°¨κ°
- μ¶μ„μ²΄ν¬ λ²„νΌμ„ ν†µν• μΌμΌ λ³΄λ„μ¤ μλ Ή
- μ‹¤μ‹κ°„ ν¬μΈνΈ μ—…λ°μ΄νΈ

## μ£Όμ” λ³€κ²½μ‚¬ν•­

### κΈ°μ΅΄ μ‹μ¤ν…κ³Όμ μ°¨μ΄μ 
1. **ν”„λ¦¬λ―Έμ—„ κµ¬λ…** β†’ **ν¬μΈνΈ κΈ°λ° κ³ΌκΈ**
2. **μ›” κµ¬λ…λ£** β†’ **κ°¤λ¬λ¦¬λ‹Ή 17P μ°¨κ°**
3. **λ¬΄μ ν• μ΄μ©** β†’ **ν¬μΈνΈ μ†μ§„ μ‹ μ΄μ© μ ν•**

### λΉ„νμ› μ²λ¦¬
- λΉ„νμ›μ€ ν¬μΈνΈ μ°¨κ° μ—†μ΄ κ°¤λ¬λ¦¬ μ΄μ© κ°€λ¥
- λ΅κ·ΈμΈ μ λ„λ¥Ό μ„ν•΄ μΌλ¶€ κΈ°λ¥ μ ν•

## λ¨λ‹ν„°λ§

### λ΅κ·Έ ν™•μΈ
```bash
# ν¬μΈνΈ μ†λ©Έ λ΅κ·Έ ν™•μΈ
tail -f logs/point_expiration.log

# μ—λ¬ λ΅κ·Έ ν™•μΈ (μ›Ήμ„λ²„ λ΅κ·Έ)
tail -f /var/log/apache2/error.log
```

### λ°μ΄ν„°λ² μ΄μ¤ λ¨λ‹ν„°λ§
```sql
-- μΌμΌ ν¬μΈνΈ ν„ν™©
SELECT
    DATE(created_at) as date,
    COUNT(*) as users,
    SUM(daily_points_earned) as total_earned,
    SUM(daily_points_used) as total_used,
    SUM(daily_points_expired) as total_expired
FROM user_daily_points
GROUP BY DATE(created_at)
ORDER BY date DESC LIMIT 7;

-- ν¬μΈνΈ νΈλμ­μ… ν„ν™©
SELECT
    type,
    COUNT(*) as count,
    SUM(amount) as total_amount
FROM transactions
WHERE DATE(created_at) = CURDATE()
GROUP BY type;
```

## λ¬Έμ  ν•΄κ²°

### μΌλ°μ μΈ λ¬Έμ 
1. **ν¬μΈνΈκ°€ ν‘μ‹λμ§€ μ•μ**: λΈλΌμ°μ € μΊμ‹ μ‚­μ  ν›„ μ¬λ΅κ·ΈμΈ
2. **μ¶μ„μ²΄ν¬κ°€ μ•λ¨**: μ΄λ―Έ μ¤λ λ°›μ•λ”μ§€ ν™•μΈ
3. **κ°¤λ¬λ¦¬κ°€ μ•μ—΄λ¦Ό**: ν¬μΈνΈ λ¶€μ΅± μ—¬λ¶€ ν™•μΈ

### κ°λ°μ λ””λ²„κΉ…
- λΈλΌμ°μ € κ°λ°μ λ„κµ¬ Console νƒ­μ—μ„ μ—λ¬ ν™•μΈ
- Network νƒ­μ—μ„ API μ‘λ‹µ ν™•μΈ
- PHP μ—λ¬ λ΅κ·Έ ν™•μΈ

## λ³΄μ• κ³ λ ¤μ‚¬ν•­
- ν¬μΈνΈ μ΅°μ‘ λ°©μ§€λ¥Ό μ„ν• μ„λ²„μ‚¬μ΄λ“ κ²€μ¦
- SQL μΈμ μ… λ°©μ§€λ¥Ό μ„ν• Prepared Statement μ‚¬μ©
- νΈλμ­μ…μ„ ν†µν• λ°μ΄ν„° μΌκ΄€μ„± λ³΄μ¥